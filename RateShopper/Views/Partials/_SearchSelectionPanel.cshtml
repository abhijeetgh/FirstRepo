<div class="mshow popup-top uppercase">

    <a class="mtab1 red tphide" href="mtab1">Search</a>
    <a class="mtab2 tphide" href="mtab2">Recent Searches</a>
    <p class="red tpshow">Search</p>

</div>
<div id="mtab1">
    <div class="side-section-top">
        <img class="collapse" src="images/Search-collapse.png" alt="collapse"><h2 class="open"><span class="uppercase">Search</span></h2>
        <img class="toggle" src="images/Search-toggle.jpg" alt="toggle">
    </div>
    <div class="side-section-body" id="searchLeftPanel">
        <div id="error-span" class="error-msg" style="display:none;">Please review the fields highlighted in Red.</div>
        <table class="search-date">
            <tbody>
                <tr class="label-row">
                    <td>Start Date</td>
                    <td>Pickup Time</td>

                </tr>
                <tr>
                    <td class="relative">
                        <input type="text" readonly="readonly" name="startDate" class="date-picker" id="startDate" autocomplete="off">
                        <img class="calender" src="images/Search-calender.png" id="startDateimg" style="cursor:pointer">
                    </td>
                    <td class="paddingr3">
                        <ul id="pickupHour" name="pickupHour" class="select-ul relative pointer">
                            <li value="11:00 am">11:00am</li>
                            <ul class="hidden drop-down">
                                <li value="12:00 am">12:00am</li>
                                <li value="12:30 am">12:30am</li>
                                <li value="1:00 am">1:00am</li>
                                <li value="1:30 am">1:30am</li>
                                <li value="2:00 am">2:00am</li>
                                <li value="2:30 am">2:30am</li>
                                <li value="3:00 am">3:00am</li>
                                <li value="3:30 am">3:30am</li>
                                <li value="4:00 am">4:00am</li>
                                <li value="4:30 am">4:30am</li>
                                <li value="5:00 am">5:00am</li>
                                <li value="5:30 am">5:30am</li>
                                <li value="6:00 am">6:00am</li>
                                <li value="6:30 am">6:30am</li>
                                <li value="7:00 am">7:00am</li>
                                <li value="7:30 am">7:30am</li>
                                <li value="8:00 am">8:00am</li>
                                <li value="8:30 am">8:30am</li>
                                <li value="9:00 am">9:00am</li>
                                <li value="9:30 am">9:30am</li>
                                <li value="10:00 am">10:00am</li>
                                <li value="10:30 am">10:30am</li>
                                <li value="11:00 am">11:00am</li>
                                <li value="11:30 am">11:30am</li>
                                <li value="12:00 pm">12:00pm</li>
                                <li value="12:30 pm">12:30pm</li>
                                <li value="1:00 pm">1:00pm</li>
                                <li value="1:30 pm">1:30pm</li>
                                <li value="2:00 pm">2:00pm</li>
                                <li value="2:30 pm">2:30pm</li>
                                <li value="3:00 pm">3:00pm</li>
                                <li value="3:30 pm">3:30pm</li>
                                <li value="4:00 pm">4:00pm</li>
                                <li value="4:30 pm">4:30pm</li>
                                <li value="5:00 pm">5:00pm</li>
                                <li value="5:30 pm">5:30pm</li>
                                <li value="6:00 pm">6:00pm</li>
                                <li value="6:30 pm">6:30pm</li>
                                <li value="7:00 pm">7:00pm</li>
                                <li value="7:30 pm">7:30pm</li>
                                <li value="8:00 pm">8:00pm</li>
                                <li value="8:30 pm">8:30pm</li>
                                <li value="9:00 pm">9:00pm</li>
                                <li value="9:30 pm">9:30pm</li>
                                <li value="10:00 pm">10:00pm</li>
                                <li value="10:30 pm">10:30pm</li>
                                <li value="11:00 pm">11:00pm</li>
                                <li value="11:30 pm">11:30pm</li>
                            </ul>
                        </ul>

                    </td>
                </tr>
                <tr class="label-row">
                    <td>End Date</td>
                    <td>Dropoff Time</td>
                </tr>
                <tr>
                    <td class="relative">
                        <input type="text" readonly="readonly" name="endDate" class="date-picker" id="endDate" autocomplete="off">
                        <img class=" calender" src="images/Search-calender.png" id="endDateimg" style="cursor:pointer">
                    </td>
                    <td>
                        <ul name="dropOffHour" id="dropOffHour" class="select-ul relative pointer">
                            <li value="11:00 am">11:00am</li>
                            <ul class="hidden drop-down">
                                <li value="12:00 am">12:00am</li>
                                <li value="12:30 am">12:30am</li>
                                <li value="1:00 am">1:00am</li>
                                <li value="1:30 am">1:30am</li>
                                <li value="2:00 am">2:00am</li>
                                <li value="2:30 am">2:30am</li>
                                <li value="3:00 am">3:00am</li>
                                <li value="3:30 am">3:30am</li>
                                <li value="4:00 am">4:00am</li>
                                <li value="4:30 am">4:30am</li>
                                <li value="5:00 am">5:00am</li>
                                <li value="5:30 am">5:30am</li>
                                <li value="6:00 am">6:00am</li>
                                <li value="6:30 am">6:30am</li>
                                <li value="7:00 am">7:00am</li>
                                <li value="7:30 am">7:30am</li>
                                <li value="8:00 am">8:00am</li>
                                <li value="8:30 am">8:30am</li>
                                <li value="9:00 am">9:00am</li>
                                <li value="9:30 am">9:30am</li>
                                <li value="10:00 am">10:00am</li>
                                <li value="10:30 am">10:30am</li>
                                <li value="11:00 am">11:00am</li>
                                <li value="11:30 am">11:30am</li>
                                <li value="12:00 pm">12:00pm</li>
                                <li value="12:30 pm">12:30pm</li>
                                <li value="1:00 pm">1:00pm</li>
                                <li value="1:30 pm">1:30pm</li>
                                <li value="2:00 pm">2:00pm</li>
                                <li value="2:30 pm">2:30pm</li>
                                <li value="3:00 pm">3:00pm</li>
                                <li value="3:30 pm">3:30pm</li>
                                <li value="4:00 pm">4:00pm</li>
                                <li value="4:30 pm">4:30pm</li>
                                <li value="5:00 pm">5:00pm</li>
                                <li value="5:30 pm">5:30pm</li>
                                <li value="6:00 pm">6:00pm</li>
                                <li value="6:30 pm">6:30pm</li>
                                <li value="7:00 pm">7:00pm</li>
                                <li value="7:30 pm">7:30pm</li>
                                <li value="8:00 pm">8:00pm</li>
                                <li value="8:30 pm">8:30pm</li>
                                <li value="9:00 pm">9:00pm</li>
                                <li value="9:30 pm">9:30pm</li>
                                <li value="10:00 pm">10:00pm</li>
                                <li value="10:30 pm">10:30pm</li>
                                <li value="11:00 pm">11:00pm</li>
                                <li value="11:30 pm">11:30pm</li>
                            </ul>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table2">
            <tbody>
                <tr class="label-row" style="display:none;">
                    <td>
                        <ul name="API" id="ddlAPI" class="select-ul relative pointer">
                            <li value="SS">Scrapping service</li>
                            <ul class="hidden drop-down">
                                @if (ViewBag.Providers != null)
                                {
                                    foreach (var provider in ViewBag.Providers)
                                    {
                                        <li value="@provider.ID" prvcode="@provider.Code">@provider.Name</li>
                                    }
                                }
                            </ul>
                        </ul>
                    </td>
                    <td></td>
                </tr>
                <tr class="label-row">
                    <td>Source</td>
                    <td>Brand Location</td>
                </tr>

                <tr class="label-row">
                    <td>
                        <span class="cb-wrap">
                            <input type="checkbox" id="source-all" name="source-all" disabled="disabled">
                            <label for="source-all">All</label>
                        </span>
                    </td>
                    <td>
                        <span class="cb-wrap">
                            <input type="checkbox" id="locations-all" name="locations-all" disabled="disabled">
                            <label for="locations-all">All</label>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td id="sourcestd">
                        <ul name="source" class="newul two-cols-select relative" size="5" id="source">
                            @*<div class="loader_container_source">
                                    <div class="loader-bga"></div>
                                    <div class="loader mhide thide">
                                        <img src="images/ajax_loader_blue_small.gif" />
                                    </div>
                                </div>*@
                            <select name="source" class="two-cols-select" size="6" id="source">
                                @if (ViewBag.ScrapperSources != null)
                                {
                                    foreach (var sources in ViewBag.ScrapperSources)
                                    {
                                        <option value="@sources.ID" srccode="@sources.Code" prvcode="@sources.ProviderCode" providerid="@sources.ProviderId" isgov="@Convert.ToString(sources.IsGov)">@sources.Name</option>
                                    }
                                }
                            </select>

                        </ul>
                    <td id="locationstd">
                        <ul name="locations" class="newul mright0 two-cols-select relative" size="5" id="locations">
                            <div class="loader_container_location">
                                <div class="loader-bga"></div>
                                <div class="loader mhide thide">
                                    <img src="images/ajax_loader_blue_small.gif" />
                                </div>
                            </div>
                            <li>
                                <span class="innersearch">
                                    <input class="left" type="text" id="searchLocation">
                                    <img class="lens" src="images/lens.png" alt="L">
                                </span>
                            </li>
                            <ul class="list-complt">
                                <select name="locations" class="two-cols-select" size="5" id="locations" onchange="GetLocationSpecificCarClasses(this)">
                                    <!-- ko foreach: locations -->
                                    <option data-bind="html:Location, attr:{ value:LocationID ,BrandId:LocationBrandID ,LocationCode:LocationCode, LOR:LOR }">ATL</option>
                                    <!-- /ko -->
                                </select>
                            </ul>
                        </ul>
                    </td>
                </tr>

                <tr class="label-row">
                    <td>Length</td>
                    <td>Car Class</td>
                </tr>
                <tr class="label-row">
                    <td>
                        <span class="cb-wrap LORcheckboxes" id="LORcheckboxes">
                            <input type="checkbox" id="lengths-all" name="lengths-all">
                            <label for="lengths-all">All</label>
                            <input type="checkbox" id="lengths-day" name="lengths-day">
                            <label for="lengths-day">D</label>
                            <input type="checkbox" id="lengths-week" name="lengths-week">
                            <label for="lengths-week">W</label>
                            <input type="checkbox" id="lengths-month" name="lengths-month">
                            <label for="lengths-month">M</label>
                        </span>
                    </td>
                    <td>
                        <span class="cb-wrap">
                            <input type="checkbox" id="carClass-all" name="carClass-all" onclick="selectAllCheckBoxClick(this, 'carClass')">
                            <label for="carClass-all">All</label>
                        </span>
                    </td>
                </tr>
                <tr>
                    <td id="rentalLengthtd">
                        <ul name="lengths" class="newul two-cols-select relative" id="lengths">
                            @*<div class="loader_container_length">
                                    <div class="loader-bga"></div>
                                    <div class="loader mhide thide">
                                        <img src="images/ajax_loader_blue_small.gif" />
                                    </div>
                                </div>*@
                            <select name="lengths" class="two-cols-select" multiple="multiple" size="6" id="lengths" onchange="checkUncheckParent(this)">
                                @if (ViewBag.RentalLengths != null)
{
    foreach (var lor in ViewBag.RentalLengths)
    {
        <option value="@lor.MappedID" rid="@lor.ID" @((lor.MappedID > 8 && lor.MappedID < 14) ? "style=display:none" : "")>@lor.Code</option>
    }
}
                            </select>
                        </ul>
                    </td>
                    <td id="carClasstd">
                        <ul name="carClass" class="newul mright0 two-cols-select relative" id="carClass">
                            <div class="loader_container_carclass ">
                                <div class="loader-bga"></div>
                                <div class="loader mhide thide">
                                    <img src="images/ajax_loader_blue_small.gif" />
                                </div>
                            </div>
                            <select name="carClass" class="two-cols-select" multiple="multiple" size="6" id="carClass" onchange="checkUncheckCarClasses(this)">
                                <!-- ko foreach: carClasses -->
                                <option data-bind="html: Code, attr:{ value:ID }">ECAR</option>
                                <!-- /ko -->
                            </select>

                        </ul>
                    </td>
                </tr>

                <tr>
                    <td align="left" id="resetSelection" style="cursor:pointer">
                        <img src="images/filter.png"> Reset Selection
                    </td>
                    <td align="right" style="cursor:pointer">
                        <input type="button" name="Search" class="search-button" value="Search " id="Search">
                        <input type="button" name="SummarySearch" class="search-button" value="Search Summary" id="SummarySearch" style="display:none;">
                    </td>
                </tr>
            </tbody>
        </table>
        <span id="searchInitiated" class="greenbg center mhide">The Search has been initiated and added in the <b>Recent Searches</b>.</span>
    </div>
</div>

@{
    var jss = new System.Web.Script.Serialization.JavaScriptSerializer();
    //This line below line commented due to circular reference error while seriliazing and next below shop line is added to serialize specific properties
    //var rentalLength = jss.Serialize(ViewBag.RentalLengths);
    var rentalLength = jss.Serialize(((IEnumerable<RateShopper.Domain.Entities.RentalLength>)ViewBag.RentalLengths).Select(d => new RateShopper.Domain.DTOs.RentalLengthDTO { MappedID = d.MappedID, Code = d.Code, ID = d.ID, AssociateMappedId = d.AssociateMappedId, DisplayOrder = d.DisplayOrder, IsSearchEnable = d.IsSearchEnable }).AsEnumerable());
}
<script>
    var allRentalLengths = JSON.parse('@Html.Raw(rentalLength)');
</script>
