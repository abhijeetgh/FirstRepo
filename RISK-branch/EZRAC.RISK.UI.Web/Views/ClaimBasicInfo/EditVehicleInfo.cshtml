@model EZRAC.Risk.UI.Web.ViewModels.Claims.VehicleInfoViewModel
@using EZRAC.Risk.UI.Web.Helper

<section class="panel panel-default complete-height  bottom0">

    @using (Ajax.BeginForm("EditVehicleInfo", new { }, new AjaxOptions { UpdateTargetId = "vehicle-info", HttpMethod = "Post", OnFailure = "onErrorHandler(xhr)" }, new { @class = " bottom5  claim-info-form-editable", @id = "vehicle-info-form" }))
    {

        @Html.AntiForgeryToken()
        <header class="panel-heading">
            <h3 class="panel-title">
                Vehicle Information
                <span class="pull-right">

                    <a href="javascript:void(0);" onclick="$('#vehicle-info-form').submit();" class="inline-group save-icon-btn right10">
                        <span class="pull-right top3">SAVE</span>
                    </a>

                    @Ajax.MyActionLink("<span class='form-label'>CANCEL</span>", "ViewVehicleInfo", "display-inline  cancel-icon-btn top3", new { vehicleId = Model.Id, contractNumber = Model.ContractNumber, claimId = Model.ClaimId },
                                                              new AjaxOptions { UpdateTargetId = "vehicle-info", OnFailure = "onErrorHandler(xhr)" })

                </span>

            </h3>
        </header>

        <div class="top10 padding-horizontal-15">

            <div class="row bottom10">
                    <div class="col-xs-4  top5 padding-right-0 ">
                        <label for="firstname">@Html.DisplayNameFor(model => model.UnitNumber)</label>
                    </div>
                    <div class="col-xs-8  padding-left-0 location-dropdown">

                        @Html.TextBoxFor(model => model.UnitNumber, new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.UnitNumber)

                    </div>
                </div>

            <div class="row bottom10">
                <div class="col-xs-4  top5 padding-right-0 ">
                    <label for="firstname">@Html.DisplayNameFor(model => model.TagNumber)</label>
                </div>
                <div class="col-xs-8  padding-left-0 location-dropdown">

                    @Html.TextBoxFor(model => model.TagNumber, new { @class = "form-control" })

                </div>
            </div>




            <div class="row bottom10">
                <div class="col-xs-4  top5 padding-right-0 ">
                    <label>@Html.DisplayNameFor(model => model.TagExpires)</label>
                </div>
                <div class="col-xs-3 padding-left-0 ">
                    <div class="sandbox-container">

                        @if (Model.TagExpires.HasValue)
                        {
                            @Html.TextBoxFor(model => model.TagExpires, Model.TagExpires.Value.ToString(Constants.CrmsDateFormates.MMDDYYYY), new { @class = "form-control sand-datepicker datepicker" })
                            @Html.ValidationMessageFor(model => model.TagExpires)
                        }
                        else
                        {
                            @Html.TextBoxFor(model => model.TagExpires, new { @class = "form-control sand-datepicker datepicker" })
                            @Html.ValidationMessageFor(model => model.TagExpires)
                        }

                    </div>
                </div>
            </div>

            <div class="row bottom10">
                <div class="col-xs-4  top5 padding-right-0 ">
                    <label for="firstname">@Html.DisplayNameFor(model => model.VIN)</label>
                </div>
                <div class="col-xs-8  padding-left-0 location-dropdown">

                    @Html.TextBoxFor(model => model.VIN, new { @class = "form-control" })

                </div>
            </div>

            <div class="row bottom10">
                <div class="col-xs-4  top5 padding-right-0 ">
                    <label for="firstname">@Html.DisplayNameFor(model => model.Make)</label>
                </div>
                <div class="col-xs-8  padding-left-0 location-dropdown">

                    @Html.TextBoxFor(model => model.Make, new { @class = "form-control" })

                </div>
            </div>

            <div class="row bottom10">
                <div class="col-xs-4  top5 padding-right-0 ">
                    <label for="firstname">@Html.DisplayNameFor(model => model.Model)</label>
                </div>
                <div class="col-xs-8  padding-left-0 location-dropdown">

                    @Html.TextBoxFor(model => model.Model, new { @class = "form-control" })

                </div>
            </div>

            <div class="row bottom10">
                <div class="col-xs-4  top5 padding-right-0 ">
                    <label for="firstname">@Html.DisplayNameFor(model => model.Year)</label>
                </div>
                <div class="col-xs-8  padding-left-0 location-dropdown">

                    @Html.TextBoxFor(model => model.Year, new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.Year)

                </div>
            </div>

            <div class="row bottom10">
                <div class="col-xs-4  top5 padding-right-0 ">
                    <label for="firstname">@Html.DisplayNameFor(model => model.Location)</label>
                </div>
                <div class="col-xs-8  padding-left-0 location-dropdown">

                    @Html.TextBoxFor(model => model.Location, new { @class = "form-control" })

                </div>
            </div>

            <div class="row bottom10">
                <div class="col-xs-4  top5 padding-right-0 ">
                    <label for="firstname">@Html.DisplayNameFor(model => model.Status)</label>
                </div>
                <div class="col-xs-8  padding-left-0 location-dropdown">

                    @Html.TextBoxFor(model => model.Status, new { @class = "form-control" })

                </div>
            </div>

            <div class="row bottom10">
                <div class="col-xs-4  top5 padding-right-0 ">
                    <label for="firstname">@Html.DisplayNameFor(model => model.Color)</label>
                </div>
                <div class="col-xs-8  padding-left-0 location-dropdown">

                    @Html.TextBoxFor(model => model.Color, new { @class = "form-control" })

                </div>
            </div>

            <div class="row bottom10">
                <div class="col-xs-4  top5 padding-right-0 ">
                    <label for="firstname">@Html.DisplayNameFor(model => model.Mileage)</label>
                </div>
                <div class="col-xs-8  padding-left-0 location-dropdown">

                    @Html.TextBoxFor(model => model.Mileage, new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.Mileage)

                </div>
            </div>


            @Html.HiddenFor(model => model.Id)
            @Html.HiddenFor(model => model.ClaimId)
            @Html.HiddenFor(model => model.ContractNumber)
        </div>
    }

</section>

<script type="text/javascript">

    $(document).ready(function (e) {

        $(".selectpicker").selectpicker({});

        var dateToday = new Date();
        $(".datepickerOpenDate").datepicker({
            minDate: dateToday,
            //beforeShowDay: $.datepicker.noWeekends
        });

        var dateToday = new Date();
        $(".datepicker").datepicker({
            //minDate: dateToday,
            //beforeShowDay: $.datepicker.noWeekends
        });

        $.validator.unobtrusive.parse("#vehicle-info-form");

    });
</script>