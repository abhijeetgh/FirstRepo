@model EZRAC.Risk.UI.Web.ViewModels.Claims.NonContractInfoViewModel
@using EZRAC.Risk.UI.Web.Helper

<section class="panel panel-default complete-height bottom0">



    @using (Ajax.BeginForm("EditNonContractInfo", new { }, new AjaxOptions { UpdateTargetId = "non-contract-info", HttpMethod = "Post", OnFailure = "onErrorHandler(xhr)" }, new { @class = " bottom5  claim-info-form-editable", @id = "non-contract-info-form" }))
    {

        @Html.AntiForgeryToken()
        <header class="panel-heading">
            <h3 class="panel-title">
                Information
                <span class="pull-right">

                    <a href="javascript:void(0);" onclick="$('#non-contract-info-form').submit();" class="inline-group save-icon-btn right10">
                        <span class="pull-right top3">SAVE</span>
                    </a>

                    @Ajax.MyActionLink("<span class='form-label'>CANCEL</span>", "ViewNonContractInfo", "display-inline  cancel-icon-btn top3", new { nonContractId = Model.Id, claimId = Model.ClaimId },
                                                new AjaxOptions { UpdateTargetId = "non-contract-info", OnFailure = "onErrorHandler(xhr)" })

                </span>

            </h3>
        </header>

        <div class="top10 padding-horizontal-15">

            <div class="row bottom10">

                <div class="col-xs-4  top5 padding-right-0 ">
                    <label>@Html.DisplayNameFor(model => model.NonContractNumber)</label>
                </div>
                <div class="col-xs-3 padding-left-0" style="width:50%">
                    <div class="sandbox-container" style="width:125%">

                        @Html.TextBoxFor(model => model.NonContractNumber, new { @class = "form-control", id = "non-contract-number", style = "width: 170px; display: inline-block;" })

                        <button style="float:right" type="button" data-url="@Url.Action("GenerateNonContractNumber", new {claimId=Model.ClaimId })" id="generate-non-contract" class="btn btn2 btn-fetch-details">AUTO GENERATE</button>

                    </div>
                </div>
            </div>

        </div>




        @Html.HiddenFor(model => model.Id)
        @Html.HiddenFor(model => model.ClaimId)
    }

</section>
<script type="text/javascript">


    $('#generate-non-contract').click(function () {

        RiskAjax($(this).data('url'), null, 'json', 'GET', false, function (returnData) {
            $('#non-contract-number').val(returnData.nonContractNumber);
        });

    });

   


</script>